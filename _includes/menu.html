{% assign home_path = '/'' %}
{% assign skills = "Compétences" %}
{% assign background = "Parcours" %}
{% assign works = "Réalisations" %}

{% assign target_fr_page = "/" %}
{% assign target_en_page = "/en" %}

{% if page.lang == 'en' %}
{% assign home_path = '/en/' %}
{% assign skills = "Skills" %}
{% assign background = "Background" %}
{% assign works = "Projects" %}
{% endif %}

{% if page.ref %}

{% assign versions = site.projects | where: "ref", page.ref | sort: 'lang'%}
{% if versions.size> 0%}
{% for version in versions%}

{% if version.lang == 'fr' %}
{% assign target_fr_page = version.url %}
{% endif%}


{% if version.lang == 'en' %}
{% assign target_en_page = version.url %}
{% endif%}

{% endfor%}
{% endif%}

{% endif %}

<div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-32 bg-white-100 border-full" data-editor-menu>
    <div class="relative flex h-16 items-center justify-between rounded-full drop-shadow-md bg-white px-2 py-2 pl-6">
        <nav class="md:mr-auto flex items-center text-base flex-1">
            <a href="{{ home_path }}" class="mr-6 hover:text-gray-900 text-base">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M23.0001 17C23.0001 20.31 20.3101 23 17.0001 23V21.5C19.5001 21.5 21.5001 19.5 21.5001 17H23.0001ZM1.00012 7C1.00012 3.69 3.69012 1 7.00012 1V2.5C4.50012 2.5 2.50012 4.5 2.50012 7H1.00012ZM8.00012 4.32L3.41012 8.92C0.190117 12.14 0.190117 17.37 3.41012 20.59C6.63012 23.81 11.8601 23.81 15.0801 20.59L22.1501 13.5C22.6401 13.03 22.6401 12.24 22.1501 11.75C22.034 11.6336 21.8961 11.5412 21.7442 11.4782C21.5923 11.4152 21.4295 11.3828 21.2651 11.3828C21.1007 11.3828 20.9379 11.4152 20.786 11.4782C20.6342 11.5412 20.4962 11.6336 20.3801 11.75L15.9601 16.17L15.2501 15.46L21.7901 8.92C22.2801 8.43 22.2801 7.64 21.7901 7.15C21.3001 6.66 20.5001 6.66 20.0001 7.15L14.1901 13L13.5001 12.27L20.3701 5.38C20.8601 4.89 20.8601 4.1 20.3701 3.61C19.8801 3.12 19.0901 3.12 18.6001 3.61L11.7101 10.5L11.0001 9.8L16.5001 4.32C17.0001 3.83 17.0001 3.04 16.5001 2.55C16.0001 2.06 15.2201 2.06 14.7301 2.55L7.11012 10.17C7.70676 10.9396 8.00239 11.9004 7.94165 12.8723C7.8809 13.8442 7.46795 14.7606 6.78012 15.45L6.07012 14.74C6.63192 14.1775 6.94748 13.415 6.94748 12.62C6.94748 11.825 6.63192 11.0625 6.07012 10.5L5.72012 10.15L9.79012 6.08C10.2801 5.59 10.2801 4.8 9.79012 4.31C9.29012 3.83 8.50012 3.83 8.00012 4.32Z"
                        fill="black" />
                </svg>
            </a>
            <div class="hidden md:flex flex-wrap text-base justify-center">
                <a href="{{ home_path }}#skills" class="mr-6 hover:text-gray-900 text-base">{{ skills }}</a>
                <a href="{{ home_path }}#background" class="mr-6 hover:text-gray-900 text-base">{{ background }}</a>
                <a href="{{ home_path }}#works" class="mr-6 hover:text-gray-900 text-base">{{ works }}</a>
            </div>
        </nav>
        <div class="relative">

            <form class="max-w-sm mx-auto">
                <div class="flex">
                    <button id="lang-toogle-button" class="
                        flex-shrink-0 z-10 inline-flex items-center mx-4 gap-2
                        py-2.5 px-4 text-sm font-medium text-center 
                        rounded-lg hover:bg-gray-100 focus:ring-4 
                        focus:outline-none focus:ring-gray-100" type="button">
                        {% if page.lang == 'fr' %}
                        FR
                        {% endif %}
                        {% if page.lang == 'en' %}
                        EN
                        {% endif %}

                        <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="m1 1 4 4 4-4" />
                        </svg>
                    </button>
                    <div id="lang-toogle-menu"
                        class="z-10 hidden absolute translate-y-12 bg-white divide-y divide-gray-100 rounded-lg shadow border w-28 ">
                        <ul class="text-sm text-gray-700 ">
                            <li>
                                <a href="{{ target_fr_page }}"
                                    class="inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <div class="inline-flex items-center">
                                        FR
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="{{ target_en_page }}"
                                    class="inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <div class="inline-flex items-center">
                                        EN
                                    </div>
                                </a>
                            </li>

                        </ul>
                    </div>

                </div>
            </form>

        </div>
        <a class="flex border border-blue-500 rounded-full h-full items-center px-2" href="#contact">
            <span class="text-blue-500 font-bold px-2">Me contacter</span>
            <img class="h-7" src="{{ './images/photo rond.png' | relative_url }}" alt="" srcset="">
        </a>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggleButton = document.getElementById('lang-toogle-button');
        const toggleMenu = document.getElementById('lang-toogle-menu');

        toggleButton.addEventListener('click', function (event) {
            // Toggle the 'hidden' class on the menu
            toggleMenu.classList.toggle('hidden');
            // Prevent the click event from bubbling up to the document
            event.stopPropagation();
        });

        document.addEventListener('click', function (event) {
            if (!toggleButton.contains(event.target) && !toggleMenu.contains(event.target)) {
                toggleMenu.classList.add('hidden');
            }
        });
    });
</script>

<script src="{{ 'assets/js/main.js' | relative_url }}"></script>